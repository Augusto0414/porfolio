---
import HeaderAside from "./HeaderAside.astro";
import "../styles/global.css";
import Experience from "./Experience.astro";
import Tecnologies from "./Tecnologies.astro";
import Projects from "./Projects.astro";
import SpotifySection from "./SpotifySection.astro";
---

<!-- Modern Portfolio Layout -->
<div class="min-h-screen w-full bg-[#0a0a0a] relative overflow-hidden">
  <!-- Gradient Orbs Background -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-0 -left-40 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl"></div>
    <div class="absolute top-1/3 -right-40 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"></div>
    <!-- Mouse gradient effect -->
    <div id="mouseGradient" class="absolute w-96 h-96 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-full blur-3xl opacity-0 transition-opacity duration-500"></div>
  </div>

  <!-- Content -->
  <div class="relative z-10">
    <!-- Hero Section -->
    <section class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 pt-20 sm:pt-28 lg:pt-32 pb-16 sm:pb-20">
      <HeaderAside />
    </section>

    <!-- Divider -->
    <div class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12">
      <div class="h-px bg-gradient-to-r from-transparent via-gray-800/80 to-transparent"></div>
    </div>

    <!-- Technologies Section -->
    <section class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 py-20 sm:py-28">
      <Tecnologies />
    </section>

    <!-- Divider -->
    <div class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12">
      <div class="h-px bg-gradient-to-r from-transparent via-gray-800/80 to-transparent"></div>
    </div>

    <!-- Experience Section -->
    <section class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 py-20 sm:py-28">
      <Experience />
    </section>

    <!-- Divider -->
    <div class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12">
      <div class="h-px bg-gradient-to-r from-transparent via-gray-800/80 to-transparent"></div>
    </div>

    <!-- Projects Section -->
    <section class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 py-20 sm:py-28">
      <Projects />
    </section>

    <!-- Divider -->
    <div class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12">
      <div class="h-px bg-gradient-to-r from-transparent via-gray-800/80 to-transparent"></div>
    </div>

    <!-- Spotify Section -->
    <section class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 py-20 sm:py-28 pb-32">
      <SpotifySection />
    </section>

    <!-- Footer -->
    <footer class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-12 pb-12 text-center">
      <p class="text-sm text-gray-600">© 2025 Augusto R. Todos los derechos reservados.</p>
    </footer>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const mouseGradient = document.getElementById('mouseGradient');
    let mouseX = 0;
    let mouseY = 0;
    let currentX = 0;
    let currentY = 0;

    // Seguir el movimiento del mouse
    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      
      // Mostrar gradiente al mover el mouse
      if (mouseGradient) {
        mouseGradient.style.opacity = '1';
      }
    });

    // Ocultar gradiente cuando el mouse sale de la ventana
    document.addEventListener('mouseleave', () => {
      if (mouseGradient) {
        mouseGradient.style.opacity = '0';
      }
    });

    // Animación suave del gradiente
    function animate() {
      // Interpolación suave para el movimiento
      const dx = mouseX - currentX;
      const dy = mouseY - currentY;
      
      currentX += dx * 0.1; 
      currentY += dy * 0.1;

      if (mouseGradient) {
        // Centrar el gradiente en el cursor
        mouseGradient.style.left = `${currentX - 192}px`;
        mouseGradient.style.top = `${currentY - 192}px`;
      }

      requestAnimationFrame(animate);
    }

    animate();
  });
</script>
